<html><body><blockquote>Thanks for the pointers to mpack/munpack - but we are left with a<br/>mystery. We were emailed a quoted printable message containing an MD5<br/>signature by Yanling Qi using &quot;CDE dtmail&quot;. However, although our MD5<br/>calculations agree with mpack/munpack, I can&#39;t get either to agree with<br/>the Content-MD5 header on that message. (However, munpack won&#39;t directly<br/>decode the message so I have to decode it first and see what MD5 mpack<br/>puts on it when its re-encoded!).<br/><br/>We are uncertain where the problem lies, so we would be grateful for<br/>some more examples of quoted printable text with Content-MD5 headers.<br/></blockquote><br/>My guess would be that one of the implementations is not using the<br/>canonical form for end-of-line in text/plain.  The newlines in a<br/>quoted-printable should be interpreted as 0D 0A for the purpose of<br/>computing MD5 (as for all other purposes).  I&#39;ll bet one or more of<br/>the implementations is treating it as either just 0D or just 0A, so<br/>you get a different MD5 value.<br/><br/>Here is the same file encoded twice: one in quoted-printable, another<br/>in base64.  They have the same canonical form and thus the same MD5.<br/>See whether they get the same MD5 on your system:<br/></body></html>